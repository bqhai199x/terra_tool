# Terra Time Calculator - Chrome Extension

ğŸ• **Extension Chrome Ä‘á»ƒ tÃ­nh toÃ¡n thá»i gian lÃ m viá»‡c cÃ²n thiáº¿u trÃªn há»‡ thá»‘ng Terra**

## ğŸ“‹ TÃ­nh nÄƒng

- âœ… PhÃ¢n tÃ­ch báº£ng cháº¥m cÃ´ng Terra tá»± Ä‘á»™ng
- â±ï¸ TÃ­nh toÃ¡n thá»i gian lÃ m viá»‡c dá»± kiáº¿n vs thá»±c táº¿
- ğŸ“Š Hiá»ƒn thá»‹ thÃ´ng tin thá»‘ng kÃª chi tiáº¿t
- ğŸ”§ Logic tÃ­nh toÃ¡n thÃ´ng minh theo quy táº¯c Terra chÃ­nh xÃ¡c
- ğŸŒŸ Há»— trá»£ nghá»‰ ná»­a ngÃ y vÃ  cÃ¡c trÆ°á»ng há»£p Ä‘áº·c biá»‡t

## âœ¨ TÃ­nh nÄƒng ná»•i báº­t

### ğŸ§  Logic tÃ­nh toÃ¡n thÃ´ng minh
- **Hybrid Logic:** Káº¿t há»£p Dynamic vÃ  Fixed Ä‘á»ƒ tÃ­nh chÃ­nh xÃ¡c
- **Penalty vÃ o sá»›m:** Tá»± Ä‘á»™ng phÃ¡t hiá»‡n vÃ o trÆ°á»›c 7:30 vÃ  cá»™ng penalty 30p
- **Overtime thÃ´ng minh:** Chá»‰ tÃ­nh thá»«a giá» >= 30p, lÃ m trÃ²n xuá»‘ng 15p
- **PhÃ¢n biá»‡t ca:** Tá»± Ä‘á»™ng nháº­n diá»‡n ca toÃ n thá»i gian vs ca chiá»u

### ğŸ¯ Há»— trá»£ Ä‘a dáº¡ng
- **Nghá»‰ ná»­a ngÃ y:** Tá»± Ä‘á»™ng phÃ¡t hiá»‡n vÃ  tÃ­nh toÃ¡n chÃ­nh xÃ¡c
- **TÃ¬m báº£ng thÃ´ng minh:** Nhiá»u pattern nháº­n diá»‡n báº£ng Terra
- **Giao diá»‡n responsive:** Hoáº¡t Ä‘á»™ng mÆ°á»£t mÃ  trÃªn popup nhá»

## ğŸš€ CÃ i Ä‘áº·t

### CÃ¡ch 1: Tá»« source code (Development)

1. **Táº£i source code:**
   ```bash
   git clone https://github.com/bqhai199x/terra_tool.git
   cd terra_tool
   ```

2. **CÃ i Ä‘áº·t vÃ o Chrome:**
   - Má»Ÿ Chrome vÃ  truy cáº­p: `chrome://extensions/`
   - Báº­t **Developer mode** á»Ÿ gÃ³c trÃªn bÃªn pháº£i
   - Click **"Load unpacked"** vÃ  chá»n thÆ° má»¥c source code
   - Extension sáº½ Ä‘Æ°á»£c cÃ i Ä‘áº·t vÃ  hiá»ƒn thá»‹ icon trÃªn thanh cÃ´ng cá»¥

### CÃ¡ch 2: CÃ i Ä‘áº·t tá»« GitHub Releases

1. **Táº£i extension:**
   - Truy cáº­p [GitHub Releases](https://github.com/bqhai199x/terra_tool/releases)
   - Táº£i file `.zip` phiÃªn báº£n má»›i nháº¥t
   - Giáº£i nÃ©n file

2. **CÃ i Ä‘áº·t:**
   - LÃ m theo hÆ°á»›ng dáº«n CÃ¡ch 1 á»Ÿ trÃªn Ä‘á»ƒ load unpacked extension

## ğŸ“– HÆ°á»›ng dáº«n sá»­ dá»¥ng

### BÆ°á»›c 1: Má»Ÿ trang Terra
- Truy cáº­p há»‡ thá»‘ng Terra
- Äiá»u hÆ°á»›ng Ä‘áº¿n trang cháº¥m cÃ´ng/timesheet
- Äáº£m báº£o báº£ng thá»i gian lÃ m viá»‡c Ä‘Ã£ Ä‘Æ°á»£c hiá»ƒn thá»‹

### BÆ°á»›c 2: Sá»­ dá»¥ng Extension

**Chá»‰ sá»­ dá»¥ng popup extension:**
1. Click vÃ o icon extension trÃªn thanh cÃ´ng cá»¥ Chrome
2. Extension sáº½ tá»± Ä‘á»™ng kiá»ƒm tra xem cÃ³ báº£ng Terra trÃªn trang hiá»‡n táº¡i khÃ´ng
3. Náº¿u tÃ¬m tháº¥y báº£ng: Click nÃºt **"ğŸ“Š PhÃ¢n tÃ­ch"** 
4. Náº¿u chÆ°a tÃ¬m tháº¥y báº£ng: Click nÃºt **"ğŸ” QuÃ©t láº¡i"** Ä‘á»ƒ tÃ¬m kiáº¿m láº¡i

### BÆ°á»›c 3: Xem káº¿t quáº£
- **Sá»‘ ngÃ y lÃ m viá»‡c:** Tá»•ng sá»‘ ngÃ y Ä‘Ã£ lÃ m viá»‡c (bao gá»“m nghá»‰ ná»­a ngÃ y)
- **PhÃºt thiáº¿u:** Tá»•ng sá»‘ phÃºt thiáº¿u do vÃ o muá»™n, ra sá»›m, vÃ o quÃ¡ sá»›m
- **PhÃºt thá»«a:** Tá»•ng sá»‘ phÃºt thá»«a do lÃ m overtime (chá»‰ tÃ­nh tá»« 30p trá»Ÿ lÃªn)
- **Káº¿t quáº£:** Thá»i gian cáº§n bÃ¹ thÃªm hoáº·c Ä‘Ã£ Ä‘á»§/thá»«a

### BÆ°á»›c 4: Xem chi tiáº¿t
- Click **"ğŸ“‹ Xem chi tiáº¿t"** Ä‘á»ƒ xem báº£ng phÃ¢n tÃ­ch chi tiáº¿t
- Báº£ng sáº½ hiá»ƒn thá»‹ thÃ´ng tin tá»«ng ngÃ y vá»›i thá»i gian vÃ o/ra vÃ  tÃ­nh toÃ¡n thiáº¿u/thá»«a

## ğŸ”§ Cáº¥u trÃºc dá»± Ã¡n

```
terra_tool/
â”œâ”€â”€ manifest.json           # Cáº¥u hÃ¬nh Chrome Extension
â”œâ”€â”€ content.js             # Script phÃ¢n tÃ­ch trang Terra
â”œâ”€â”€ popup.html             # Giao diá»‡n popup
â”œâ”€â”€ popup.js               # Logic popup
â”œâ”€â”€ styles.css             # CSS cho extension
â”œâ”€â”€ CALCULATION_RULES.md   # Quy táº¯c tÃ­nh toÃ¡n chi tiáº¿t
â”œâ”€â”€ icons/                 # ThÆ° má»¥c chá»©a icon
â”‚   â”œâ”€â”€ icon16.png/svg
â”‚   â”œâ”€â”€ icon32.png/svg
â”‚   â”œâ”€â”€ icon48.png/svg
â”‚   â””â”€â”€ icon128.png/svg
â””â”€â”€ README.md              # TÃ i liá»‡u nÃ y
```

## ğŸ› ï¸ PhÃ¡t triá»ƒn

### YÃªu cáº§u há»‡ thá»‘ng
- Google Chrome 88+
- Há»‡ thá»‘ng Terra cÃ³ báº£ng cháº¥m cÃ´ng

### CÃ´ng nghá»‡ sá»­ dá»¥ng
- **Manifest V3** - Chrome Extension API má»›i nháº¥t
- **Vanilla JavaScript** - KhÃ´ng phá»¥ thuá»™c framework
- **CSS3** - Styling hiá»‡n Ä‘áº¡i
- **Chrome APIs:** tabs, scripting
- **Logic tÃ­nh toÃ¡n:** Hybrid Dynamic + Fixed theo quy táº¯c Terra

### Quy táº¯c tÃ­nh toÃ¡n
Extension sá»­ dá»¥ng logic phá»©c táº¡p Ä‘á»ƒ tÃ­nh chÃ­nh xÃ¡c theo quy Ä‘á»‹nh Terra:
- **Thiáº¿u giá»:** VÃ o muá»™n sau 8:30, penalty 30p náº¿u vÃ o trÆ°á»›c 7:30
- **Thá»«a giá»:** LÃ m sau 17:30 (ca toÃ n) hoáº·c 17:00 (ca chiá»u), chá»‰ tÃ­nh tá»« 30p, lÃ m trÃ²n xuá»‘ng 15p
- **Logic Hybrid:** Dynamic cho vÃ o sá»›m (Ä‘Æ°á»£c thÆ°á»Ÿng), Fixed cho vÃ o muá»™n (bá»‹ pháº¡t)
- **Há»— trá»£ nghá»‰ ná»­a ngÃ y:** Tá»± Ä‘á»™ng phÃ¡t hiá»‡n vÃ  tÃ­nh toÃ¡n chÃ­nh xÃ¡c

Chi tiáº¿t xem file [CALCULATION_RULES.md](CALCULATION_RULES.md)

### Cáº¥u trÃºc HTML báº£ng Terra Ä‘Æ°á»£c há»— trá»£
Extension tá»± Ä‘á»™ng nháº­n diá»‡n báº£ng Terra vá»›i nhiá»u pattern khÃ¡c nhau:
- TÃ¬m báº£ng cÃ³ header chá»©a "NgÃ y", "PhÃ¢n loáº¡i", "Dá»± kiáº¿n", "Thá»±c táº¿"
- Há»— trá»£ cÃ¡c class `.el-table`, `table`
- Tá»± Ä‘á»™ng xá»­ lÃ½ dá»¯ liá»‡u tá»« cáº£ text vÃ  input fields
- PhÃ¡t hiá»‡n nghá»‰ ná»­a ngÃ y (Ã´ ngÃ y trá»‘ng + phÃ¢n loáº¡i "Ä‘i lÃ m")
